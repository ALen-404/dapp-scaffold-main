(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{4980:function(e,t,n){"use strict";n.d(t,{W:function(){return I},u:function(){return N}});var r=n(29),s=n(4389),a=n(7794),o=n.n(a),c=n(7294),i=n(4306),l=n(9499),u=n(1755),d=n(1118),p=(0,n(4671).Z)(function(e,t){var n;return{balance:0,getUserSOLBalance:(n=(0,r.Z)(o().mark(function t(n,r){var s;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=0,t.prev=1,t.next=4,r.getBalance(n,"confirmed");case 4:s=t.sent/u.LAMPORTS_PER_SOL,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("error getting balance: ",t.t0);case 11:e(function(e){e.balance=s,console.log("balance updated, ",s)});case 12:case"end":return t.stop()}},t,null,[[1,8]])})),function(e,t){return n.apply(this,arguments)})}}),f=n(9502),g=n.n(f),m=n(4758),h=JSON.parse('{"version":"0.1.0","name":"koala","constants":[{"name":"TRANSFER_AMOUNT","type":"u64","value":"50000000"},{"name":"RECIPIENT","type":"publicKey","value":"pubkey ! (\\"9UgMeYVrWrG5fbjkHos4FShJfchUkXZgNo2CV68h8Mjq\\")"}],"instructions":[{"name":"transferSol","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"recipient","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]}],"metadata":{"address":"72R1hcrPYWxWrhNFFLz4PT7RmUjkdh6BvwZDgUgzAbhZ"}}'),b=n(5121),x=n(5893);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var y=function(){var e=(0,i.O)(),t=p().getUserSOLBalance,n=new u.PublicKey(h.metadata.address),s=new u.Connection("https://clean-solitary-wildflower.solana-mainnet.quiknode.pro/52f1d9f45e847af7f96c04ddf3b3ef2f7481ce3a/"),a=(0,c.useMemo)(function(){return new m.Y7(s,e,{commitment:"processed"})},[s,e]),f=(0,c.useMemo)(function(){return new m.$r(h,n,a)},[n,a]),y=(0,c.useCallback)((0,r.Z)(o().mark(function n(){var r,a;return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.publicKey){n.next=4;break}return console.log("error","Wallet not connected!"),(0,d.h)({type:"error",message:"error",description:"Wallet not connected!"}),n.abrupt("return");case 4:return r="",n.prev=5,n.next=8,f.methods.transferSol().accounts({user:e.publicKey,recipient:new u.PublicKey("9UgMeYVrWrG5fbjkHos4FShJfchUkXZgNo2CV68h8Mjq")}).rpc();case 8:return console.log(" transaction signature",r=n.sent),n.next=12,s.getLatestBlockhash();case 12:return a=n.sent,n.next=15,s.confirmTransaction(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({signature:r},a),"confirmed");case 15:return n.next=17,b.Z.post("https://nft.koalago.io/nft/addList/".concat(e.publicKey.toBase58()));case 17:console.log(n.sent.data,"{wallet.publicKey"),(0,d.h)({type:"success",message:"Mint successful!",txid:r}),t(e.publicKey,s),n.next=27;break;case 23:n.prev=23,n.t0=n.catch(5),(0,d.h)({type:"error",message:"Mint failed!",description:null===n.t0||void 0===n.t0?void 0:n.t0.message,txid:r}),console.log("error","Mint failed! ".concat(null===n.t0||void 0===n.t0?void 0:n.t0.message),r);case 27:case"end":return n.stop()}},n,null,[[5,23]])})),[e.publicKey,f.methods,s,t]);return(0,x.jsx)("div",{className:"flex flex-row justify-center ",children:(0,x.jsx)("button",{className:g().transferBtn,onClick:y,children:(0,x.jsx)("span",{children:"MINT "})})})},j=n(5675),k=n.n(j),w=n(3381),O=n.n(w),N=function(e){(0,s.Z)(e);var t=(0,i.O)();return(0,c.useEffect)(function(){null!=t&&t.publicKey&&setInterval((0,r.Z)(o().mark(function e(){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.get("https://nft.koalago.io/nft/getWinnAddr");case 2:null!==(n=e.sent.data.data)&&void 0!==n&&n.includes(t.publicKey.toBase58())&&(0,d.h)({type:"success",message:"Congratulations on winning a koala nft!"});case 4:case"end":return e.stop()}},e)})),1e4)},[t.publicKey]),(0,x.jsx)("div",{className:"md:hero mx-auto p-4 ",children:(0,x.jsx)("div",{className:"md:hero-content flex flex-col",children:(0,x.jsxs)("div",{className:O().indexBg,children:[(0,x.jsx)("div",{className:O().indexBgImage_T,children:(0,x.jsx)(k(),{src:"/background.svg",alt:"solana icon",width:3e3,height:3e3})}),(0,x.jsxs)("div",{className:O().nftMintBox,children:[(0,x.jsx)("div",{className:O().nftImg,children:(0,x.jsx)(k(),{src:"/koala.svg",alt:"solana icon",width:156,height:156})}),(0,x.jsx)("p",{className:O().nftInfo,children:"NFTS: 10000"}),(0,x.jsx)("p",{className:O().nftInfo,children:"Mint price: 0.05sol"}),(0,x.jsx)("p",{className:O().nftInfo,children:"Supply minted: 0/10000"}),(0,x.jsx)(y,{})]})]})})})},P=n(5866),_=n(7191),S=n.n(_),T=function(){var e=(0,i.O)(),t=e.publicKey,n=e.signMessage,s=(0,c.useCallback)((0,r.Z)(o().mark(function e(){var r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw Error("Wallet not connected!");case 3:if(n){e.next=5;break}throw Error("Wallet does not support message signing!");case 5:return r=new TextEncoder().encode("Hello, world!"),e.next=8,n(r);case 8:if(s=e.sent,(0,P.T)(s,r,t.toBytes())){e.next=11;break}throw Error("Invalid signature!");case 11:(0,d.h)({type:"success",message:"Sign message successful!",txid:S().encode(s)}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),(0,d.h)({type:"error",message:"Sign Message failed!",description:null===e.t0||void 0===e.t0?void 0:e.t0.message}),console.log("error","Sign Message failed! ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 18:case"end":return e.stop()}},e,null,[[0,14]])})),[t,d.h,n]);return(0,x.jsx)("div",{className:"flex flex-row justify-center",children:(0,x.jsxs)("div",{className:"relative group items-center",children:[(0,x.jsx)("div",{className:"m-1 absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500  rounded-lg blur opacity-20 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"}),(0,x.jsxs)("button",{className:"group w-60 m-2 btn animate-pulse bg-gradient-to-br from-indigo-500 to-fuchsia-500 hover:from-white hover:to-purple-300 text-black",onClick:s,disabled:!t,children:[(0,x.jsx)("div",{className:"hidden group-disabled:block",children:"Wallet not connected"}),(0,x.jsx)("span",{className:"block group-disabled:hidden",children:"Sign Message"})]})]})})},B=n(4718);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=function(){var e=(0,B.R)().connection,t=(0,i.O)(),n=t.publicKey,s=t.sendTransaction,a=(0,c.useCallback)((0,r.Z)(o().mark(function t(){var r,a,c,i,p;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return(0,d.h)({type:"error",message:"Wallet not connected!"}),console.log("error","Send Transaction: Wallet not connected!"),t.abrupt("return");case 4:return r="",t.prev=5,a=[u.SystemProgram.transfer({fromPubkey:n,toPubkey:u.Keypair.generate().publicKey,lamports:1e6})],t.next=9,e.getLatestBlockhash();case 9:return c=t.sent,i=new u.TransactionMessage({payerKey:n,recentBlockhash:c.blockhash,instructions:a}).compileToLegacyMessage(),p=new u.VersionedTransaction(i),t.next=14,s(p,e);case 14:return r=t.sent,t.next=17,e.confirmTransaction(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({signature:r},c),"confirmed");case 17:console.log(r),(0,d.h)({type:"success",message:"Transaction successful!",txid:r}),t.next=26;break;case 21:return t.prev=21,t.t0=t.catch(5),(0,d.h)({type:"error",message:"Transaction failed!",description:null===t.t0||void 0===t.t0?void 0:t.t0.message,txid:r}),console.log("error","Transaction failed! ".concat(null===t.t0||void 0===t.t0?void 0:t.t0.message),r),t.abrupt("return");case 26:case"end":return t.stop()}},t,null,[[5,21]])})),[n,d.h,e,s]);return(0,x.jsx)("div",{className:"flex flex-row justify-center",children:(0,x.jsxs)("div",{className:"relative group items-center",children:[(0,x.jsx)("div",{className:"m-1 absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500  rounded-lg blur opacity-20 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"}),(0,x.jsxs)("button",{className:"group w-60 m-2 btn animate-pulse bg-gradient-to-br from-indigo-500 to-fuchsia-500 hover:from-white hover:to-purple-300 text-black",onClick:a,disabled:!n,children:[(0,x.jsx)("div",{className:"hidden group-disabled:block ",children:"Wallet not connected"}),(0,x.jsx)("span",{className:"block group-disabled:hidden",children:"Send Transaction"})]})]})})};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var E=function(){var e=(0,B.R)().connection,t=(0,i.O)(),n=t.publicKey,s=t.sendTransaction,a=(0,c.useCallback)((0,r.Z)(o().mark(function t(){var r,a,c,i,p;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return(0,d.h)({type:"error",message:"Wallet not connected!"}),console.log("error","Send Transaction: Wallet not connected!"),t.abrupt("return");case 4:return r="",t.prev=5,a=[u.SystemProgram.transfer({fromPubkey:n,toPubkey:u.Keypair.generate().publicKey,lamports:1e6})],t.next=9,e.getLatestBlockhash();case 9:return c=t.sent,i=new u.TransactionMessage({payerKey:n,recentBlockhash:c.blockhash,instructions:a}).compileToV0Message(),p=new u.VersionedTransaction(i),t.next=14,s(p,e);case 14:return r=t.sent,t.next=17,e.confirmTransaction(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({signature:r},c),"confirmed");case 17:console.log(r),(0,d.h)({type:"success",message:"Transaction successful!",txid:r}),t.next=26;break;case 21:return t.prev=21,t.t0=t.catch(5),(0,d.h)({type:"error",message:"Transaction failed!",description:null===t.t0||void 0===t.t0?void 0:t.t0.message,txid:r}),console.log("error","Transaction failed! ".concat(null===t.t0||void 0===t.t0?void 0:t.t0.message),r),t.abrupt("return");case 26:case"end":return t.stop()}},t,null,[[5,21]])})),[n,d.h,e,s]);return(0,x.jsx)("div",{className:"flex flex-row justify-center",children:(0,x.jsxs)("div",{className:"relative group items-center",children:[(0,x.jsx)("div",{className:"m-1 absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500  rounded-lg blur opacity-20 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"}),(0,x.jsxs)("button",{className:"group w-60 m-2 btn animate-pulse bg-gradient-to-br from-indigo-500 to-fuchsia-500 hover:from-white hover:to-purple-300 text-black",onClick:a,disabled:!n,children:[(0,x.jsx)("div",{className:"hidden group-disabled:block ",children:"Wallet not connected"}),(0,x.jsx)("span",{className:"block group-disabled:hidden",children:"Send Versioned Transaction"})]})]})})},I=function(e){return(0,s.Z)(e),(0,x.jsx)("div",{className:"md:hero mx-auto p-4",children:(0,x.jsxs)("div",{className:"md:hero-content flex flex-col",children:[(0,x.jsx)("h1",{className:"text-center text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-indigo-500 to-fuchsia-500 mt-10 mb-8",children:"Basics"}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(T,{}),(0,x.jsx)(K,{}),(0,x.jsx)(E,{})]})]})})}},9502:function(e){e.exports={mintBtn:"RequestAirdrop_mintBtn__ak4eV",transferBtn:"RequestAirdrop_transferBtn__ZDESe"}},3381:function(e){e.exports={indexBg:"home_indexBg__KSFip",indexBgImage:"home_indexBgImage__ga355",indexBgImage_T:"home_indexBgImage_T__6DnnM",nftMintBox:"home_nftMintBox__UzlHi",nftImg:"home_nftImg__Ud_rf",nftInfo:"home_nftInfo___XbSR"}}}]);